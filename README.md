# Дипломная работа «Облачное хранилище»


## Описание проекта
Проект состоит из backend и frontend приложений. Backend написан с использованием фреймворка Spring Boot. Backend и тесты на него находится в папке src, 
Frontend - в папке frontend. Frontend должно подключаться к приложению без доработок.Чтобы Frontend смог обратиться к серверу, в приложении настроен CORS.
Frontend-приложение использует header auth-token, в котором отправляет токен (ключ-строка) для идентификации пользователя на Backend.

Сервис предоставляет REST-интерфейс для загрузки файлов и вывода списка уже загруженных файлов пользователя. 
Все запросы к сервису должны быть авторизованы

Сервис реализует методы, описанные в протоколе:
- Авторизация,
- Выход из системы,
- Добавление файлов,
- Редактироване имени файла,
- Получение файла,
- Удаление файла,
- Получение списка файлов
  
Для авторизации необходимо ввести логин и пароль одного из пользователей, данные которых хранятся в базе. Приложение использует БД PosgreSQL. Настройки в БД
вычитываются из файла application.properties. Схемы таблицы пользователей и файлов хранятся в проекте в файле database/schema.sql. Данные пользователей - в файле database/data.sql.

Данные пользователей, загруженных в БД:
1. Логин: petr, пароль: qwerty
1. Логин: olga, пароль: qwenmb
1. Логин: sasha, пароль: nmbqwe

В случае успешной авторизации в Backend создается сессия пользователя и возвращается json-объект с полем auth-token и значением токена
Все дальейшие запросы с Frontend, кроме метода /login, отправляются с этим header

## Описание интеграции с FRONT
**Запросы:** формируются самим FRONT приложением на URL состоящий из http://localhost:8081 и эндпоинтов:

- `/login` - принимает объект с данными формы, возвращается объект с токеном
- `/logout` - принимает заголовок со значением токена
- `/file` 
  * POST запрос (добавление файла) - принимает в заголовках значение токена, имя файла, в теле передается файл
  * DELETE запрос (удаление файла) - принимает в заголовке значение токена, в query параметрах передается имя файла
  * GET запрос (скачивание файла) -  принимает в заголовке значение токена, в query параметрах передается имя файла
  * PUT запрос (изменение имени файла) - принимает в заголовке значение токена, в query параметрах передается имя файла старое и новое
- `/list` - принимает в заголовке значение токена, в query параметрах передается количество отображаемых на странице файлов, возвращает список файлов пользователя из базы данных
